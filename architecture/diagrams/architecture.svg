<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="520" viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      font-size: 20px;
      font-weight: 600;
      fill: #000;
    }
    .label {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      font-size: 14px;
      fill: #000;
    }
    .small {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      font-size: 12px;
      fill: #333;
    }
    .box {
      fill: #ffffff;
      stroke: #000000;
      stroke-width: 1.5;
    }
    .groupbox {
      fill: #f5f5f5;
      stroke: #000000;
      stroke-width: 1;
      stroke-dasharray: 4 3;
    }
    .arrow {
      stroke: #000000;
      stroke-width: 1.5;
      marker-end: url(#arrowhead);
      fill: none;
    }
  </style>

  <!-- Pfeilspitze -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="8" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#000" />
    </marker>
  </defs>

  <!-- Titel -->
  <text x="450" y="40" text-anchor="middle" class="title">
    CollectivAI App – Cloud & API Architecture
  </text>

  <!-- Client Layer (App) -->
  <rect x="80" y="80" width="320" height="120" class="box" rx="10" ry="10"/>
  <text x="240" y="110" text-anchor="middle" class="label">Client Layer – CollectivAI App</text>
  <text x="100" y="135" class="small">• CollectivAI App (macOS)</text>
  <text x="100" y="155" class="small">• CollectivAI App (iPhone)</text>
  <text x="100" y="175" class="small">• Browser / Desktop UI</text>

  <!-- API Gateway / Router -->
  <rect x="480" y="80" width="340" height="140" class="box" rx="10" ry="10"/>
  <text x="650" y="110" text-anchor="middle" class="label">CollectivAI API Gateway &amp; Router</text>
  <text x="500" y="135" class="small">• Single entrypoint (HTTPS / JSON)</text>
  <text x="500" y="155" class="small">• Provider selection (Gemini, GPT, …)</text>
  <text x="500" y="175" class="small">• Load balancing &amp; retries</text>
  <text x="500" y="195" class="small">• Rate limits &amp; usage control</text>

  <!-- Ethics & Privacy Layer -->
  <rect x="160" y="230" width="580" height="110" class="groupbox" rx="12" ry="12"/>
  <text x="450" y="255" text-anchor="middle" class="label">Ethics, Privacy &amp; Policy Layer</text>
  <text x="180" y="280" class="small">• Prompt inspection, redaction &amp; safety rules</text>
  <text x="180" y="300" class="small">• Governance policies &amp; allowed use</text>
  <text x="480" y="280" class="small">• Optional anonymised logging</text>
  <text x="480" y="300" class="small">• Compliance &amp; human-centered constraints</text>

  <!-- Provider Group -->
  <rect x="80" y="360" width="740" height="120" class="groupbox" rx="12" ry="12"/>
  <text x="450" y="385" text-anchor="middle" class="label">Cloud AI Providers (Models via API)</text>

  <!-- Einzelne Provider -->

  <!-- Gemini -->
  <rect x="110" y="400" width="150" height="70" class="box" rx="8" ry="8"/>
  <text x="185" y="425" text-anchor="middle" class="label">Gemini</text>
  <text x="120" y="445" class="small">Text · Tools · Research</text>

  <!-- GPT -->
  <rect x="280" y="400" width="150" height="70" class="box" rx="8" ry="8"/>
  <text x="355" y="425" text-anchor="middle" class="label">GPT / OpenAI</text>
  <text x="290" y="445" class="small">Chat · Code · Analysis</text>

  <!-- Other APIs -->
  <rect x="450" y="400" width="150" height="70" class="box" rx="8" ry="8"/>
  <text x="525" y="425" text-anchor="middle" class="label">Other APIs</text>
  <text x="460" y="445" class="small">Claude · Mistral · etc.</text>

  <!-- Custom / Org Models -->
  <rect x="620" y="400" width="170" height="70" class="box" rx="8" ry="8"/>
  <text x="705" y="425" text-anchor="middle" class="label">Custom / Org Models</text>
  <text x="630" y="445" class="small">Private endpoints · fine-tunes</text>

  <!-- Pfeile: Client → Gateway -->
  <line x1="400" y1="140" x2="480" y2="140" class="arrow"/>
  <text x="440" y="130" class="small" text-anchor="middle">HTTPS / JSON</text>

  <!-- Pfeile: Gateway ↔ Ethics Layer -->
  <line x1="650" y1="220" x2="650" y2="230" class="arrow"/>
  <line x1="650" y1="340" x2="650" y2="360" class="arrow"/>

  <!-- Pfeile: Ethics Layer ↔ Providers (symbolisch) -->
  <line x1="450" y1="340" x2="450" y2="360" class="arrow"/>

  <!-- Legende -->
  <rect x="30" y="460" width="260" height="40" class="box" rx="8" ry="8"/>
  <text x="45" y="485" class="small">All models are accessed via APIs in the cloud.</text>
  <text x="45" y="501" class="small">The CollectivAI App never hosts the models itself.</text>
</svg>
